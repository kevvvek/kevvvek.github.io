(this.webpackJsonppeaceful=this.webpackJsonppeaceful||[]).push([[0],{1462:function(e,r,t){"use strict";t.r(r);var a=t(42),n=t.n(a),i=t(551),o=t.n(i),s=(t(557),t(558),t(559),t(25)),d=t(32),c=t(37),l=t(36),u=function(e){Object(c.a)(t,e);var r=Object(l.a)(t);function t(){return Object(s.a)(this,t),r.apply(this,arguments)}return Object(d.a)(t,[{key:"addBackground",value:function(e){var r=this.add.image(this.game.canvas.width/2,this.game.canvas.height/2,e),t=this.game.canvas.width/r.width,a=this.game.canvas.height/r.height;r.setOrigin(.5,.5),t>=a&&r.setScale(t,t),a>t&&r.setScale(a,a)}},{key:"addButton",value:function(e,r){var t=this.game.canvas.height*e-25,a=this.game.canvas.width-30,n=this.add.graphics();n.fillStyle(8947848,.5),n.fillRoundedRect(15,t,a,50,10);var i=this.add.text(this.game.canvas.width/2,this.game.canvas.height/2,r,{color:"#fff",align:"center",fontStyle:"bold"}).setOrigin(.5,.5);return i.setInteractive(),i}}]),t}(Phaser.Scene),h=function(e){Object(c.a)(t,e);var r=Object(l.a)(t);function t(){var e;return Object(s.a)(this,t),(e=r.call(this)).column=11,e.row=20,e.tiles=[{x:0,y:0,terrane:{terraneCode:"Tree"}},{x:1,y:0,terrane:{terraneCode:"Tree"}},{x:2,y:0,terrane:{terraneCode:"Tree"}},{x:3,y:0,terrane:{terraneCode:"Tree"}},{x:4,y:0,terrane:{terraneCode:"Tree"}},{x:5,y:0,terrane:{terraneCode:"Tree"}},{x:6,y:0,terrane:{terraneCode:"Tree"}},{x:7,y:0,terrane:{terraneCode:"Tree"}},{x:8,y:0,terrane:{terraneCode:"Tree"}},{x:9,y:0,terrane:{terraneCode:"Tree"}},{x:10,y:0,terrane:{terraneCode:"Tree"}},{x:0,y:1,terrane:{terraneCode:"Tree"}},{x:10,y:1,terrane:{terraneCode:"Tree"}},{x:0,y:2,terrane:{terraneCode:"Tree"}},{x:10,y:2,terrane:{terraneCode:"Tree"}},{x:0,y:3,terrane:{terraneCode:"Tree"}},{x:10,y:3,terrane:{terraneCode:"Tree"}},{x:0,y:4,terrane:{terraneCode:"Tree"}},{x:10,y:4,terrane:{terraneCode:"Tree"}},{x:0,y:5,terrane:{terraneCode:"Tree"}},{x:10,y:5,terrane:{terraneCode:"Tree"}},{x:0,y:6,terrane:{terraneCode:"Tree"}},{x:10,y:6,terrane:{terraneCode:"Tree"}},{x:0,y:7,terrane:{terraneCode:"Tree"}},{x:10,y:7,terrane:{terraneCode:"Tree"}},{x:0,y:8,terrane:{terraneCode:"Tree"}},{x:10,y:8,terrane:{terraneCode:"Tree"}},{x:0,y:9,terrane:{terraneCode:"Tree"}},{x:10,y:9,terrane:{terraneCode:"Tree"}},{x:0,y:10,terrane:{terraneCode:"Tree"}},{x:10,y:10,terrane:{terraneCode:"Tree"}},{x:0,y:11,terrane:{terraneCode:"Tree"}},{x:10,y:11,terrane:{terraneCode:"Tree"}},{x:0,y:12,terrane:{terraneCode:"Tree"}},{x:10,y:12,terrane:{terraneCode:"Tree"}},{x:0,y:13,terrane:{terraneCode:"Tree"}},{x:10,y:13,terrane:{terraneCode:"Tree"}},{x:0,y:14,terrane:{terraneCode:"Tree"}},{x:10,y:14,terrane:{terraneCode:"Tree"}},{x:0,y:15,terrane:{terraneCode:"Tree"}},{x:10,y:15,terrane:{terraneCode:"Tree"}},{x:0,y:16,terrane:{terraneCode:"Tree"}},{x:10,y:16,terrane:{terraneCode:"Tree"}},{x:0,y:17,terrane:{terraneCode:"Tree"}},{x:10,y:17,terrane:{terraneCode:"Tree"}},{x:0,y:18,terrane:{terraneCode:"Tree"}},{x:10,y:18,terrane:{terraneCode:"Tree"}},{x:0,y:19,terrane:{terraneCode:"Tree"}},{x:1,y:19,terrane:{terraneCode:"Tree"}},{x:2,y:19,terrane:{terraneCode:"Tree"}},{x:3,y:19,terrane:{terraneCode:"Tree"}},{x:4,y:19,terrane:{terraneCode:"Tree"}},{x:5,y:19,terrane:{terraneCode:"Tree"}},{x:6,y:19,terrane:{terraneCode:"Tree"}},{x:7,y:19,terrane:{terraneCode:"Tree"}},{x:8,y:19,terrane:{terraneCode:"Tree"}},{x:9,y:19,terrane:{terraneCode:"Tree"}},{x:10,y:19,terrane:{terraneCode:"Tree"}},{x:0,y:19,terrane:{terraneCode:"Tree"}},{x:5,y:2,building:{buildingCode:"Castle",player:0}},{x:0,y:19,terrane:{terraneCode:"Tree"}},{x:5,y:17,building:{buildingCode:"Castle",player:1}}],e.initialize(),e}return t}(function(){function e(){Object(s.a)(this,e),this.column=0,this.row=0,this.tiles=[]}return Object(d.a)(e,[{key:"initialize",value:function(){for(var e=this,r=function(r){for(var t=function(t){var a=e.tiles.filter((function(e){return e.x==r&&e.y==t}))[0];a||(a={x:r,y:t},e.tiles.push(a))},a=0;a<e.row;a++)t(a)},t=0;t<this.column;t++)r(t)}}]),e}()),y=function(){function e(){Object(s.a)(this,e),this.gameSetting=void 0}return Object(d.a)(e,[{key:"loadDefault",value:function(){this.gameSetting=new h}}]),e}(),f=function(e){Object(c.a)(t,e);var r=Object(l.a)(t);function t(){return Object(s.a)(this,t),r.call(this,"main")}return Object(d.a)(t,[{key:"create",value:function(){var e=this;this.addBackground("background"),this.addButton(.5,"Start").on("pointerup",(function(){var r=new y;r.loadDefault(),e.game.scene.start("game",r)})),window.onkeyup=function(r){44===r.keyCode&&e.game.renderer.snapshot((function(r){var t=r;t.style.width="".concat(e.game.canvas.width,"px"),t.style.height="".concat(e.game.canvas.height,"px"),t.style.paddingLeft="2px",document.body.appendChild(t)}))}}}]),t}(u),g=function(e){Object(c.a)(t,e);var r=Object(l.a)(t);function t(){var e;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=r.call.apply(r,[this].concat(n))).gameManager=void 0,e.tileOffsetX=10,e.tileOffsetY=10,e.tileSize=50,e}return Object(d.a)(t,[{key:"init",value:function(e){this.gameManager=e}},{key:"create",value:function(){var e,r=this;this.addBackground("background");var t=this.make.tilemap({key:"map"}),a=t.addTilesetImage("pipo-map001","tiles",32,32);t.createStaticLayer("ground",a,0,0).setX(this.tileOffsetX).setY(this.tileOffsetY);null===(e=this.gameManager)||void 0===e||e.gameSetting.tiles.forEach((function(e){e.terrane&&r.drawTerrane(e),e.building&&r.drawBuilding(e)}))}},{key:"drawTerrane",value:function(e){var r;"Tree"==(null===(r=e.terrane)||void 0===r?void 0:r.terraneCode)&&this.add.sprite(32*e.x+this.tileOffsetX,32*e.y+this.tileOffsetY,"world",10).setOrigin(0,0)}},{key:"drawBuilding",value:function(e){var r=e.building;if("Castle"==(null===r||void 0===r?void 0:r.buildingCode)){var t=this.add.sprite(32*e.x+this.tileOffsetX,32*e.y+this.tileOffsetY,"world",74).setOrigin(0,0);0==r.player?t.setTint(13421772):t.setTint(3355443)}}}]),t}(u),x=function(e){Object(c.a)(t,e);var r=Object(l.a)(t);function t(){return Object(s.a)(this,t),r.apply(this,arguments)}return Object(d.a)(t,[{key:"init",value:function(){}},{key:"preload",value:function(){this.add.text(this.game.canvas.width/2,this.game.canvas.height/2,"Loading...").setOrigin(.5,.5),this.load.image("splash","splash.jpg")}},{key:"create",value:function(){this.scene.start("loading")}}]),t}(u),C=function(e){Object(c.a)(t,e);var r=Object(l.a)(t);function t(){return Object(s.a)(this,t),r.apply(this,arguments)}return Object(d.a)(t,[{key:"init",value:function(){}},{key:"preload",value:function(){this.addBackground("splash"),this.load.image("background","assets/unsplash/isaac-quesada-1AyqZcC7zSg-unsplash.jpg"),this.load.image("tile","assets/last-guardian-sprites/man4_fr1.gif"),this.load.spritesheet("world","assets/Pipoya RPG World Tileset 48x48 40x40 32x32/32x32/pipo-map001.png",{frameWidth:32,frameHeight:32}),this.load.tilemapTiledJSON("map","maps/200710.json"),this.load.image("tiles","assets/Pipoya RPG World Tileset 48x48 40x40 32x32/32x32/pipo-map001.png")}},{key:"create",value:function(){var e=this;setTimeout((function(){e.scene.start("main")}),1e3)}}]),t}(u),T=function(){var e=n.a.createRef();return Object(a.useEffect)((function(){var e={type:Phaser.CANVAS,height:660,width:500,scale:{mode:Phaser.Scale.ScaleModes.FIT},render:{pixelArt:!0}},r=new Phaser.Game(e);r.scene.add("preload",x),r.scene.add("loading",C),r.scene.add("main",f),r.scene.add("game",g),r.scene.start("preload")}),[]),n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("div",{ref:e,className:"App"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},552:function(e,r,t){e.exports=t(1462)},557:function(e,r,t){},558:function(e,r,t){}},[[552,1,2]]]);
//# sourceMappingURL=main.59d8163a.chunk.js.map